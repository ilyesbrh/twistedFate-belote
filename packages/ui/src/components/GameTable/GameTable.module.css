.table {
  position: relative;
  width: 100vw;
  height: 100vh;
  height: 100dvh; /* Android Chrome: exclude browser chrome from height */
  overflow: hidden;
  font-family: var(--font);
  /* background set via inline style in GameTable.tsx to respect Vite base path */
}

/* All background layers now inside the SVG — these divs are unused */
.felt,
.feltWeave,
.feltCenter,
.rings,
.woodRim {
  display: none;
}

/* ═══════════════════════════════════════
   Element positions — Desktop default
   ═══════════════════════════════════════ */

.scorePanel {
  position: absolute;
  top: env(safe-area-inset-top, 0px);
  left: env(safe-area-inset-left, 0px);
  z-index: 20;
}

.northHand {
  position: absolute;
  top: 4px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 5;
}

/* North avatar overlays the north hand (centered horizontally) */
.northAvatar {
  position: absolute;
  top: 24px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
}

/* West avatar overlays the west card strip */
.westAvatar {
  position: absolute;
  left: 4px;
  top: 54%;
  transform: translateY(-50%);
  z-index: 12;
}

.westCards {
  position: absolute;
  left: 4px;
  top: 54%;
  transform: translateY(-50%);
  z-index: 8;
}

/* East avatar overlays the east card strip */
.eastAvatar {
  position: absolute;
  right: 4px;
  top: 54%;
  transform: translateY(-50%);
  z-index: 12;
}

.eastCards {
  position: absolute;
  right: 4px;
  top: 54%;
  transform: translateY(-50%);
  z-index: 8;
}

.trickArea {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -52%);
  z-index: 8;
}

/* ── South row: avatar + hand in one flex bar ── */
.southRow {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: flex-end;
  pointer-events: none;
  z-index: 15;
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Avatar: visually leftmost (order:-1), DOM-last so it paints above the card fan */
.southAvatar {
  order: -1;
  flex: 0 0 auto;
  padding: 0 0 8px 8px;
  pointer-events: all;
  position: relative;
}

/* Hand pivot: centered in remaining space */
.handDisplay {
  flex: 1;
  display: flex;
  justify-content: center;
  pointer-events: all;
}

/* ── Chat button: anchored to top-right of south avatar ── */
.chatBtn {
  position: absolute;
  top: 0;
  right: -6px;
  z-index: 21;
}

/* ── Bid panel: centered in the screen ── */
.bidPanel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 20;
}

/* ═══════════════════════════════════════
   Tablet (≤ 900px)
   ═══════════════════════════════════════ */
@media (max-width: 900px) {
  .northAvatar {
    top: 16px;
  }
  .westAvatar {
    left: 6px;
  }
  .eastAvatar {
    right: 6px;
  }
}

/* ═══════════════════════════════════════
   Landscape phone (height ≤ 500px) — must come after tablet
   ═══════════════════════════════════════ */
@media (max-height: 500px) and (orientation: landscape) {
  /* North avatar centered over north hand */
  .northAvatar {
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
  }

  /* West avatar and cards share the same anchor — respect notch inset */
  .westAvatar {
    left: calc(env(safe-area-inset-left, 0px) + 2px);
    top: 46%;
    transform: translateY(-50%);
  }
  .westCards {
    left: calc(env(safe-area-inset-left, 0px) + 2px);
    top: 46%;
    transform: translateY(-50%);
  }

  /* East avatar and cards share the same anchor — respect notch inset */
  .eastAvatar {
    right: calc(env(safe-area-inset-right, 0px) + 2px);
    top: 46%;
    transform: translateY(-50%);
  }
  .eastCards {
    right: calc(env(safe-area-inset-right, 0px) + 2px);
    top: 46%;
    transform: translateY(-50%);
  }

  .trickArea {
    top: 46%;
  }
  .bidPanel {
    bottom: 70px;
  }

  .southAvatar {
    padding-bottom: 6px;
  }
}

/* ═══════════════════════════════════════
   Mobile (≤ 600px)
   ═══════════════════════════════════════ */
@media (max-width: 600px) {
  .northAvatar {
    top: 10px;
  }

  .westAvatar {
    left: 3px;
    top: 50%;
    transform: translateY(-50%);
  }
  .westCards {
    left: 2px;
    top: 50%;
  }

  .eastAvatar {
    right: 3px;
    top: 50%;
    transform: translateY(-50%);
  }
  .eastCards {
    right: 2px;
    top: 50%;
  }

  .southAvatar {
    padding-bottom: 6px;
  }

  .trickArea {
    top: 48%;
  }
}

/* ═══════════════════════════════════════
   Portrait phone — tall narrow viewport
   Shift center of action up to give south
   hand more room at the bottom.
   ═══════════════════════════════════════ */
@media (max-width: 600px) and (orientation: portrait) {
  .northAvatar {
    top: calc(env(safe-area-inset-top, 0px) + 6px);
  }

  .northHand {
    top: calc(env(safe-area-inset-top, 0px) + 2px);
  }

  /* Move side players up to ~44% so center shifts upward */
  .westAvatar {
    top: 44%;
  }
  .westCards {
    top: 44%;
  }

  .eastAvatar {
    top: 44%;
  }
  .eastCards {
    top: 44%;
  }

  .trickArea {
    top: 40%;
    transform: translate(-50%, -50%);
  }
}
